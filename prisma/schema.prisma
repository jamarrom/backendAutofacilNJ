generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id        String   @id @default(cuid())
  email     String   @unique
  password  String
  name      String?
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("users")
}

model Car {
  id          String   @id @default(cuid())
  brand       String
  model       String
  year        Int
  price       Float
  type        CarType
  fuelType    FuelType
  transmission TransmissionType
  mileage     Int
  color       String
  seats       Int
  horsepower  Int?
  fuelEconomy String?
  category    CarCategory
  isFeatured  Boolean @default(false)
  description String?
  
  // Relaciones
  images      CarImage[]
  features    CarFeature[]
  
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("cars")
}

model CarImage {
  id        String @id @default(cuid())
  url       String
  order     Int    @default(0)
  isPrimary Boolean @default(false)
  carId     String
  car       Car    @relation(fields: [carId], references: [id], onDelete: Cascade)

  @@map("car_images")
}

model CarFeature {
  id          String @id @default(cuid())
  name        String
  description String?
  carId       String
  car         Car    @relation(fields: [carId], references: [id], onDelete: Cascade)

  @@map("car_features")
}

model HomeSlider {
  id        String   @id @default(cuid())
  imageUrl  String
  title     String?
  subtitle  String?
  order     Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("home_sliders")
}

model AuctionSlider {
  id        String   @id @default(cuid())
  imageUrl  String
  title     String?
  subtitle  String?
  order     Int      @default(0)
  isActive  Boolean  @default(true)
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  @@map("auction_sliders")
}

enum CarType {
  SEDAN
  SUV
  COUPE
  HATCHBACK
  TRUCK
}

enum FuelType {
  GASOLINE
  DIESEL
  ELECTRIC
  HYBRID
}

enum TransmissionType {
  AUTOMATIC
  MANUAL
}

enum CarCategory {
  NEW
  AUCTION
}